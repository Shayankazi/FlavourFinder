{"ast":null,"code":"import React,{useState,useRef,useEffect,Suspense,lazy}from'react';import{motion,AnimatePresence}from'framer-motion';import Navbar from'./components/Navbar';import{RecipeList}from'./components/RecipeList';import{FavoritesProvider}from'./contexts/FavoritesContext';import{getRecipeById}from'./data/recipes';// Lazy load heavy components to improve initial bundle size\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecipeDetails=/*#__PURE__*/lazy(()=>import('./components/RecipeDetails').then(module=>({default:module.RecipeDetails})));const MealPlanner=/*#__PURE__*/lazy(()=>import('./components/MealPlanner').then(module=>({default:module.MealPlanner})));const FilterPanel=/*#__PURE__*/lazy(()=>import('./components/FilterPanel').then(module=>({default:module.FilterPanel})));const Profile=/*#__PURE__*/lazy(()=>import('./components/Profile').then(module=>({default:module.Profile})));// Loading component for lazy-loaded components\nconst ComponentLoader=()=>/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-black\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-2 border-orange-400 border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300\",children:\"Loading...\"})]})});function App(){const[currentPage,setCurrentPage]=useState('recipes');const[selectedRecipe,setSelectedRecipe]=useState(null);const[searchToggleKey,setSearchToggleKey]=useState(0);const[showFavoritesOnly,setShowFavoritesOnly]=useState(false);const[showSuggestions,setShowSuggestions]=useState(false);const containerRef=useRef(null);const handleRecipeSelect=recipe=>{setSelectedRecipe(recipe);setCurrentPage('recipe-details');};const handleBackToList=()=>{setSelectedRecipe(null);setCurrentPage('recipes');};const handlePageChange=page=>{setCurrentPage(page);setSelectedRecipe(null);setShowFavoritesOnly(false);setShowSuggestions(false);};const handleSearchToggle=()=>{setSearchToggleKey(prev=>prev+1);};const handleFavoritesToggle=()=>{setShowFavoritesOnly(true);setShowSuggestions(false);setCurrentPage('recipes');};const handleSuggestionsToggle=()=>{setShowSuggestions(true);setShowFavoritesOnly(false);setCurrentPage('recipes');};// Preload critical components after initial render\nuseEffect(()=>{const preloadComponents=async()=>{// Preload RecipeDetails as it's commonly used\nimport('./components/RecipeDetails');};// Delay preloading to not interfere with initial render\nconst timer=setTimeout(preloadComponents,2000);return()=>clearTimeout(timer);},[]);const renderPage=()=>{switch(currentPage){case'recipes':return/*#__PURE__*/_jsx(RecipeList,{onRecipeSelect:handleRecipeSelect,showFavoritesOnly:showFavoritesOnly,showSuggestions:showSuggestions,searchToggleKey:searchToggleKey});case'recipe-details':return selectedRecipe?/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(ComponentLoader,{}),children:/*#__PURE__*/_jsx(RecipeDetails,{recipe:selectedRecipe,onBack:handleBackToList})}):null;case'meal-planner':return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(ComponentLoader,{}),children:/*#__PURE__*/_jsx(MealPlanner,{})});case'profile':return/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(ComponentLoader,{}),children:/*#__PURE__*/_jsx(Profile,{})});default:return/*#__PURE__*/_jsx(RecipeList,{onRecipeSelect:handleRecipeSelect,showFavoritesOnly:showFavoritesOnly,showSuggestions:showSuggestions,searchToggleKey:searchToggleKey});}};return/*#__PURE__*/_jsx(FavoritesProvider,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-black text-white\",ref:containerRef,children:[/*#__PURE__*/_jsx(Navbar,{currentPage:currentPage,onPageChange:handlePageChange,onSearchToggle:handleSearchToggle,onFavoritesToggle:handleFavoritesToggle,onSuggestionsToggle:handleSuggestionsToggle}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsx(motion.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.3}// Reduced transition duration\n,className:\"relative\",children:renderPage()},currentPage+((selectedRecipe===null||selectedRecipe===void 0?void 0:selectedRecipe.id)||''))})]})});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","Suspense","lazy","motion","AnimatePresence","Navbar","RecipeList","FavoritesProvider","getRecipeById","jsx","_jsx","jsxs","_jsxs","RecipeDetails","then","module","default","MealPlanner","FilterPanel","Profile","ComponentLoader","className","children","App","currentPage","setCurrentPage","selectedRecipe","setSelectedRecipe","searchToggleKey","setSearchToggleKey","showFavoritesOnly","setShowFavoritesOnly","showSuggestions","setShowSuggestions","containerRef","handleRecipeSelect","recipe","handleBackToList","handlePageChange","page","handleSearchToggle","prev","handleFavoritesToggle","handleSuggestionsToggle","preloadComponents","timer","setTimeout","clearTimeout","renderPage","onRecipeSelect","fallback","onBack","ref","onPageChange","onSearchToggle","onFavoritesToggle","onSuggestionsToggle","mode","main","initial","opacity","y","animate","exit","transition","duration","id"],"sources":["/Users/shayankazi/PROJECTS/FlavourFinder/Site/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect, Suspense, lazy } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Navbar from './components/Navbar';\nimport { RecipeList } from './components/RecipeList';\nimport { FavoritesProvider } from './contexts/FavoritesContext';\nimport { getRecipeById } from './data/recipes';\n\n// Lazy load heavy components to improve initial bundle size\nconst RecipeDetails = lazy(() => import('./components/RecipeDetails').then(module => ({ default: module.RecipeDetails })));\nconst MealPlanner = lazy(() => import('./components/MealPlanner').then(module => ({ default: module.MealPlanner })));\nconst FilterPanel = lazy(() => import('./components/FilterPanel').then(module => ({ default: module.FilterPanel })));\nconst Profile = lazy(() => import('./components/Profile').then(module => ({ default: module.Profile })));\n\n// Loading component for lazy-loaded components\nconst ComponentLoader = () => (\n  <div className=\"flex items-center justify-center min-h-screen bg-black\">\n    <div className=\"flex flex-col items-center space-y-4\">\n      <div className=\"w-8 h-8 border-2 border-orange-400 border-t-transparent rounded-full animate-spin\"></div>\n      <p className=\"text-gray-300\">Loading...</p>\n    </div>\n  </div>\n);\n\nfunction App() {\n  const [currentPage, setCurrentPage] = useState('recipes');\n  const [selectedRecipe, setSelectedRecipe] = useState(null);\n  const [searchToggleKey, setSearchToggleKey] = useState(0);\n  const [showFavoritesOnly, setShowFavoritesOnly] = useState(false);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const containerRef = useRef(null);\n\n  const handleRecipeSelect = (recipe) => {\n    setSelectedRecipe(recipe);\n    setCurrentPage('recipe-details');\n  };\n\n  const handleBackToList = () => {\n    setSelectedRecipe(null);\n    setCurrentPage('recipes');\n  };\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n    setSelectedRecipe(null);\n    setShowFavoritesOnly(false);\n    setShowSuggestions(false);\n  };\n\n  const handleSearchToggle = () => {\n    setSearchToggleKey(prev => prev + 1);\n  };\n\n  const handleFavoritesToggle = () => {\n    setShowFavoritesOnly(true);\n    setShowSuggestions(false);\n    setCurrentPage('recipes');\n  };\n\n  const handleSuggestionsToggle = () => {\n    setShowSuggestions(true);\n    setShowFavoritesOnly(false);\n    setCurrentPage('recipes');\n  };\n\n  // Preload critical components after initial render\n  useEffect(() => {\n    const preloadComponents = async () => {\n      // Preload RecipeDetails as it's commonly used\n      import('./components/RecipeDetails');\n    };\n    \n    // Delay preloading to not interfere with initial render\n    const timer = setTimeout(preloadComponents, 2000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'recipes':\n        return (\n          <RecipeList \n            onRecipeSelect={handleRecipeSelect}\n            showFavoritesOnly={showFavoritesOnly}\n            showSuggestions={showSuggestions}\n            searchToggleKey={searchToggleKey}\n          />\n        );\n      case 'recipe-details':\n        return selectedRecipe ? (\n          <Suspense fallback={<ComponentLoader />}>\n            <RecipeDetails \n              recipe={selectedRecipe}\n              onBack={handleBackToList}\n            />\n          </Suspense>\n        ) : null;\n      case 'meal-planner':\n        return (\n          <Suspense fallback={<ComponentLoader />}>\n            <MealPlanner />\n          </Suspense>\n        );\n      case 'profile':\n        return (\n          <Suspense fallback={<ComponentLoader />}>\n            <Profile />\n          </Suspense>\n        );\n      default:\n        return (\n          <RecipeList \n            onRecipeSelect={handleRecipeSelect}\n            showFavoritesOnly={showFavoritesOnly}\n            showSuggestions={showSuggestions}\n            searchToggleKey={searchToggleKey}\n          />\n        );\n    }\n  };\n\n  return (\n    <FavoritesProvider>\n      <div className=\"min-h-screen bg-black text-white\" ref={containerRef}>\n        <Navbar \n          currentPage={currentPage}\n          onPageChange={handlePageChange}\n          onSearchToggle={handleSearchToggle}\n          onFavoritesToggle={handleFavoritesToggle}\n          onSuggestionsToggle={handleSuggestionsToggle}\n        />\n        \n        <AnimatePresence mode=\"wait\">\n          <motion.main\n            key={currentPage + (selectedRecipe?.id || '')}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            transition={{ duration: 0.3 }} // Reduced transition duration\n            className=\"relative\"\n          >\n            {renderPage()}\n          </motion.main>\n        </AnimatePresence>\n      </div>\n    </FavoritesProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}